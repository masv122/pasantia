"use strict";(self["webpackChunkproyecto_de_pasantia"]=self["webpackChunkproyecto_de_pasantia"]||[]).push([[64],{6183:(e,o,a)=>{a.d(o,{Z:()=>r});var l=a(2502);const r=(0,l.Q_)("sesion",{state:()=>({sesion:{displayName:"",email:"",uid:""}})})},8388:(e,o,a)=>{a.d(o,{Z:()=>b});var l=a(9835),r=a(6970);const n={class:"q-ml-xs"};function i(e,o,a,i,t,s){const c=(0,l.up)("q-card-actions");return(0,l.wg)(),(0,l.j4)(c,null,{default:(0,l.w5)((()=>[(0,l._)("div",n," Solicitud atendida por: "+(0,r.zw)(i.administrador.data?" "+i.administrador.data.nombre:""),1)])),_:1})}var t=a(499),s=a(3477);const c={name:"AdministradorComp",props:{id:String},setup(e){const o=(0,t.qj)({data:null});(0,l.bv)((async()=>{e.id&&(o.data=await a(e.id))})),(0,l.YP)((()=>e.id),(async()=>{e.id?o.data=await a(e.id):o.data=null}));const a=async e=>{try{const o=await(0,s.U2)((0,s.iU)((0,s.iH)((0,s.N8)()),`usuarios/admis/${e}`));return o.exists()?o.val():"error al buscar"}catch(o){console.log(o)}};return{administrador:o}}};var d=a(1639),m=a(1821),u=a(9984),p=a.n(u);const w=(0,d.Z)(c,[["render",i]]),b=w;p()(c,"components",{QCardActions:m.Z})},9522:(e,o,a)=>{a.r(o),a.d(o,{default:()=>h});var l=a(9835);const r={class:"flex flex-center"},n={class:"q-pa-md shadow-1",style:{width:"600px"}},i=(0,l._)("div",{class:"text-h5"},"Formulario de solicitud",-1);function t(e,o,a,t,s,c){const d=(0,l.up)("q-separator"),m=(0,l.up)("q-select"),u=(0,l.up)("q-input"),p=(0,l.up)("q-btn"),w=(0,l.up)("q-form");return(0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("div",n,[(0,l.Wm)(w,{onSubmit:t.onSubmit,onReset:t.onReset,class:"q-gutter-md"},{default:(0,l.w5)((()=>[i,(0,l.Wm)(d,{inset:""}),(0,l.Wm)(m,{standout:"bg-teal text-white",class:"q-mb-lg",ref:"refCoordinacion",style:{"max-width":"300px"},modelValue:t.coordinacion,"onUpdate:modelValue":o[0]||(o[0]=e=>t.coordinacion=e),options:t.coordinaciones,label:"CoordinaciÃ³n"},null,8,["modelValue","options"]),(0,l.Wm)(m,{standout:"bg-teal text-white",style:{"max-width":"300px"},class:"q-mb-lg",ref:"refProblema",modelValue:t.problema,"onUpdate:modelValue":o[1]||(o[1]=e=>t.problema=e),options:t.tipoDeProblema,label:"Tipo de problema"},null,8,["modelValue","options"]),(0,l.Wm)(u,{class:"q-mb-lg",ref:"refComentarioAdicional",label:"Comentarios adicionales",modelValue:t.comentarioAdicional,"onUpdate:modelValue":o[2]||(o[2]=e=>t.comentarioAdicional=e),filled:"",type:"textarea"},null,8,["modelValue"]),(0,l._)("div",null,[(0,l.Wm)(p,{label:"Enviar",type:"submit",color:"primary"}),(0,l.Wm)(p,{label:"Restablecer",type:"reset",color:"negative",flat:"",class:"q-ml-sm"})])])),_:1},8,["onSubmit","onReset"])])])}var s=a(499),c=a(2904),d=a(9302),m=a(6183),u=a(8570);const p={setup(){const e=(0,d.Z)(),o=(0,u.N8)(),a=(0,m.Z)().sesion,l=(0,s.iH)(null),r=(0,s.iH)(null),n=(0,s.iH)(""),i=(0,s.iH)(null),t=(0,s.iH)(null),p=(0,s.iH)(null),w=function(){l.value=null,r.value=null,n.value=""};return{problema:r,coordinacion:l,comentarioAdicional:n,coordinaciones:["Gerencia","RRHH","Contabilidad","Recaudacion","Planificacion y Presupuesto"],tipoDeProblema:["Internet","Equipo","Otro"],refProblema:i,refCoordinacion:t,refComentarioAdicional:p,onSubmit(){if(i.value.validate(),t.value.validate(),p.value.validate(),i.value.hasError||t.value.hasError||p.value.hasError)e.notify({color:"negative",message:"Falta informacion"});else try{(0,c.Z)();const i=(0,u.iH)(o,"solicitudes"),t=(0,u.VF)(i);(0,u.t8)(t,{coordinacion:l.value,problema:r.value,comentarioAdicional:n.value,enProceso:!1,terminada:!1,usuario:a.uid,administrador:""}),e.notify({color:"positive",message:"Solicitud creada"}),w()}catch(s){const o=s.code,a=s.message;console.log(s),console.log(o),console.log(a),e.notify({color:"negative",message:"Error al crear la solicitud"})}},onReset(){w()}}}};var w=a(1639),b=a(8326),f=a(926),v=a(2553),y=a(6611),g=a(4455),_=a(9984),Z=a.n(_);const q=(0,w.Z)(p,[["render",t]]),h=q;Z()(p,"components",{QForm:b.Z,QSeparator:f.Z,QSelect:v.Z,QInput:y.Z,QBtn:g.Z})},9731:(e,o,a)=>{a.r(o),a.d(o,{default:()=>I});var l=a(9835),r=a(6970),n=a(1957);const i=(0,l.Uk)(' s-el icon="verified" /> ');function t(e,o,a,t,s,c){const d=(0,l.up)("q-icon"),m=(0,l.up)("q-breadcrumbs-el"),u=(0,l.up)("q-breadcrumbs"),p=(0,l.up)("q-card-section"),w=(0,l.up)("q-btn"),b=(0,l.up)("q-card-actions"),f=(0,l.up)("q-separator"),v=(0,l.up)("q-item-label"),y=(0,l.up)("q-item-section"),g=(0,l.up)("q-item"),_=(0,l.up)("q-list"),Z=(0,l.up)("administrador-comp"),q=(0,l.up)("q-card"),h=(0,l.up)("q-table");return(0,l.wg)(),(0,l.j4)(h,{title:"Mis solicitudes",rows:t.solicitudes,columns:t.columns,"row-key":"enProceso",grid:"","hide-header":""},{item:(0,l.w5)((e=>[(0,l._)("div",{class:"q-pa-xs col-xs-12 col-sm-6 col-md-4 col-lg-3 grid-style-transition",style:(0,r.j5)(e.selected?"transform: scale(0.95);":"")},[(0,l.Wm)(q,{class:(0,r.C_)(e.selected?"bg-grey-2":"")},{default:(0,l.w5)((()=>[e.row.administrador!==t.sesion.sesion.uid&&e.row.administrador?((0,l.wg)(),(0,l.j4)(p,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"text-grey"},{separator:(0,l.w5)((()=>[(0,l.Wm)(d,{size:"1.5em",name:"chevron_right",color:"primary"})])),default:(0,l.w5)((()=>[(0,l.Wm)(m,{icon:"hourglass_empty",class:(0,r.C_)(e.row.enProceso?"text-blue":"")},null,8,["class"]),(0,l.Wm)(m,{icon:"check_circle",class:(0,r.C_)(e.row.terminada?"text-green":"")},null,8,["class"]),i])),_:2},1024)])),_:2},1024)):((0,l.wg)(),(0,l.j4)(b,{key:1,align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(w,{outline:e.row.enProceso,color:e.row.enProceso?"negative":"primary",label:e.row.enProceso?"rechazar":"Aceptar",onClick:o=>{e.row.enProceso=!e.row.enProceso,t.cambiarProceso(e.row)}},null,8,["outline","color","label","onClick"]),[[n.F8,!e.row.enProceso&&!e.row.terminada||e.row.enProceso&&!e.row.terminada]]),(0,l.wy)((0,l.Wm)(w,{color:"green",label:"Completar",modelValue:e.row.terminada,"onUpdate:modelValue":o=>e.row.terminada=o,"checked-icon":"check",disable:e.row.terminada,"unchecked-icon":"clear",onClick:o=>{e.row.enProceso=!e.row.enProceso,e.row.terminada=!e.row.terminada,t.cambiarProceso(e.row)}},null,8,["modelValue","onUpdate:modelValue","disable","onClick"]),[[n.F8,e.row.enProceso||e.row.terminada]])])),_:2},1024)),(0,l.Wm)(f),(0,l.Wm)(_,{dense:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.cols,(e=>((0,l.wg)(),(0,l.j4)(g,{key:e.name},{default:(0,l.w5)((()=>[(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.label),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)(y,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.value),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024),(0,l.Wm)(f),(0,l.wy)((0,l.Wm)(Z,{id:e.row.administrador},null,8,["id"]),[[n.F8,e.row.enProceso]])])),_:2},1032,["class"])],4)])),_:1},8,["rows","columns"])}var s=a(499),c=a(8570),d=a(6183),m=a(8388);const u=[{name:"coordinacion",label:"Coordinacion",field:"coordinacion"},{name:"problema",label:"Tipo de problema",field:"problema"},{name:"comentarioAdicional",label:"Informacion adicional",field:"comentarioAdicional"}],p={components:{AdministradorComp:m.Z},setup(){const e=(0,c.N8)(),o=(0,s.qj)([]),a=(0,d.Z)(),r=(0,c.iH)(e,"solicitudes/");(0,l.bv)((()=>{(0,c.jM)(r,(e=>{e.forEach((e=>{if(!e.val().terminada){var a=e.val();a.key=e.key,o.push(a)}}))}),{onlyOnce:!0}),(0,c.yv)(r,(e=>{const a=o,l=a.findIndex((o=>o.key===e.key));-1!==l||e.val().terminada||0===o.length||o.push(e.val())})),(0,c.Jr)(r,(e=>{const a=o,l=a.findIndex((o=>o.key===e.key));e.val().terminada?(o.length,o.splice(l,1)):o[l]=e.val()}))}));const n=o=>{var l=(0,c.iH)(e,"solicitudes/"+o.key);o.enProceso&&(o.administrador=a.sesion.uid),o.terminada||o.enProceso||(o.administrador=""),(0,c.Vx)(l,o)};return{sesion:a,columns:u,cambiarProceso:n,solicitudes:o}}};var w=a(1639),b=a(5792),f=a(4458),v=a(3190),y=a(2605),g=a(2857),_=a(8052),Z=a(1821),q=a(4455),h=a(926),W=a(3246),k=a(490),C=a(1233),Q=a(3115),P=a(9984),x=a.n(P);const A=(0,w.Z)(p,[["render",t]]),I=A;x()(p,"components",{QTable:b.Z,QCard:f.Z,QCardSection:v.Z,QBreadcrumbs:y.Z,QIcon:g.Z,QBreadcrumbsEl:_.Z,QCardActions:Z.Z,QBtn:q.Z,QSeparator:h.Z,QList:W.Z,QItem:k.Z,QItemSection:C.Z,QItemLabel:Q.Z})},4249:(e,o,a)=>{a.r(o),a.d(o,{default:()=>x});var l=a(9835),r=a(6970),n=a(1957);function i(e,o,a,i,t,s){const c=(0,l.up)("q-icon"),d=(0,l.up)("q-breadcrumbs-el"),m=(0,l.up)("q-breadcrumbs"),u=(0,l.up)("q-card-section"),p=(0,l.up)("q-separator"),w=(0,l.up)("q-item-label"),b=(0,l.up)("q-item-section"),f=(0,l.up)("q-item"),v=(0,l.up)("q-list"),y=(0,l.up)("administrador-comp"),g=(0,l.up)("q-card"),_=(0,l.up)("q-table");return(0,l.wg)(),(0,l.j4)(_,{title:"Mis solicitudes",rows:i.solicitudes,columns:i.columns,"row-key":"enProceso",grid:"","hide-header":""},{item:(0,l.w5)((e=>[(0,l._)("div",{class:"q-pa-xs col-xs-12 col-sm-6 col-md-4 col-lg-3 grid-style-transition",style:(0,r.j5)(e.selected?"transform: scale(0.95);":"")},[(0,l.Wm)(g,{class:(0,r.C_)(e.selected?"bg-grey-2":"")},{default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:"text-grey"},{separator:(0,l.w5)((()=>[(0,l.Wm)(c,{size:"1.5em",name:"chevron_right",color:"primary"})])),default:(0,l.w5)((()=>[(0,l.Wm)(d,{icon:"hourglass_empty",class:(0,r.C_)(e.row.enProceso?"text-blue":"")},null,8,["class"]),(0,l.Wm)(d,{icon:"check_circle",class:(0,r.C_)(e.row.terminada?"text-green":"")},null,8,["class"]),(0,l.Wm)(d,{icon:"verified"})])),_:2},1024)])),_:2},1024),(0,l.Wm)(p),(0,l.Wm)(v,{dense:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.cols,(e=>((0,l.wg)(),(0,l.j4)(f,{key:e.name},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.label),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)(b,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.value),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024),(0,l.Wm)(p),(0,l.wy)((0,l.Wm)(y,{id:e.row.administrador},null,8,["id"]),[[n.F8,e.row.enProceso||e.row.terminada]])])),_:2},1032,["class"])],4)])),_:1},8,["rows","columns"])}var t=a(499),s=a(9302),c=a(8570),d=a(6183),m=a(8388);const u=[{name:"coordinacion",label:"Coordinacion",field:"coordinacion"},{name:"problema",label:"Tipo de problema",field:"problema"},{name:"comentarioAdicional",label:"Informacion adicional",field:"comentarioAdicional"}],p={components:{AdministradorComp:m.Z},setup(){const e=(0,c.N8)(),o=((0,s.Z)(),(0,d.Z)().sesion),a=(0,t.qj)([]);return(0,l.bv)((()=>{var l=(0,c.IO)((0,c.iH)(e,"solicitudes/"),(0,c.g2)("usuario"),(0,c.EW)(o.uid));(0,c.jM)(l,(e=>{e.forEach((e=>{var o=e.val();o.key=e.key,a.push(o)}))}),{onlyOnce:!0}),(0,c.Jr)(l,(e=>{const o=a,l=o.findIndex((o=>o.key===e.key));a[l]=e.val()}))})),{columns:u,solicitudes:a}}};var w=a(1639),b=a(5792),f=a(4458),v=a(3190),y=a(2605),g=a(2857),_=a(8052),Z=a(926),q=a(3246),h=a(490),W=a(1233),k=a(3115),C=a(9984),Q=a.n(C);const P=(0,w.Z)(p,[["render",i]]),x=P;Q()(p,"components",{QTable:b.Z,QCard:f.Z,QCardSection:v.Z,QBreadcrumbs:y.Z,QIcon:g.Z,QBreadcrumbsEl:_.Z,QSeparator:Z.Z,QList:q.Z,QItem:h.Z,QItemSection:W.Z,QItemLabel:k.Z})}}]);